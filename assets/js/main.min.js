async function includePartials(){const nodes=document.querySelectorAll('[data-include]');for(const n of nodes){const url=n.getAttribute('data-include');try{const res=await fetch(url);if(!res.ok)throw new Error(res.status+" "+res.statusText);n.innerHTML=await res.text();}catch(err){n.innerHTML=`<div style="color:var(--muted)">Could not load<code>${url}</code>:${err.message}</div>`;}}}
(function(){const root=document.documentElement;const prefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;const saved=localStorage.getItem('theme');const start=saved||(prefersDark?'dark':'light');root.setAttribute('data-theme',start);const btn=document.querySelector('#themeToggle, #theme-toggle, .toggle');function setIcon(theme){if(btn)btn.textContent=theme==='dark'?'â˜€ï¸':'ðŸŒ™';}
setIcon(start);if(btn){btn.addEventListener('click',()=>{const now=root.getAttribute('data-theme')==='dark'?'light':'dark';root.setAttribute('data-theme',now);localStorage.setItem('theme',now);setIcon(now);});}})();includePartials();document.querySelectorAll('.email-copy').forEach(btn=>{btn.addEventListener('click',async()=>{const email=btn.dataset.email||btn.textContent.trim();try{await navigator.clipboard.writeText(email);const old=btn.textContent;btn.textContent='Copied!';setTimeout(()=>btn.textContent=old,1200);}catch(e){window.prompt('Press Ctrl/Cmd+C to copy:',email);}});});